<!DOCTYPE html>
<!--
  ~ Copyright 2011-2013 Lukas Vlcek
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Concept - Store dashboard</title>
    <script src="../../../../../main/webapp/js/d3.v3.0.4/d3.v3.min.js"></script>
    <script src="../../../../../../closure-library-r2388/closure/goog/base.js"></script>
    <script src="../../../../../main/concepts/org/bigdesk/store/store_deps.js"></script>
    <script>
        goog.require('goog.dom');
        goog.require('org.bigdesk.store.Dashboard');
    </script>
    <link rel="stylesheet" type="text/css" href="../../../../webapp/css/reset_meyer/reset_v2.0.css">
    <style>
        #endpoint {
            position: relative;
            float: left;
        }
        #controls {
            float: left;
        }
        .beat {
            float: left;

            position: relative;
            top: 5px;
            left: 4px;
            width: 10px;
            height: 10px;

            background-color: #90ee90;
            border: 1px solid green;

            -moz-border-radius: 10px;
            -webkit-border-radius: 10px;
            border-radius: 10px;
        }

        .controls select,
        .controls input {
            width: 50px;
        }

        .clear {
            clear: left ;
        }

        #dashboard {
            padding: 0 0 0 20px;
            width: 50%;
            position: relative;
            float: left;
        }

        body {
            padding: 10px;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="dashboard.css">
</head>
<body>

    <div id="controls">
        <div>
            <input id="endpoint" type="text" value="http://localhost:9200" disabled>
            <div class="beat"></div>
            <div class="clear"></div>
        </div>
        <div class="controls">
            <select id="interval">
                <option value="1000">1s</option>
                <option value="2000">2s</option>
                <option value="4000" selected>4s</option>
                <option value="8000">8s</option>
            </select>
            <input id="start" type="button" value="start">
            <input id="stop" type="button" value="stop">
        </div>
    </div>
    <div id="dashboard"></div>

    <script type="text/javascript">
        var dashboard_element = goog.dom.getElement('dashboard');
        var start_button      = goog.dom.getElement('start');
        var stop_button       = goog.dom.getElement('stop');
        var endpoint          = goog.dom.getElement('endpoint').value;
        var interval          = goog.dom.getElement('interval');

        var conf = {
            endpoint: endpoint,
            delay: interval.value
        }

        var dashboard = new org.bigdesk.store.Dashboard(dashboard_element, start_button, stop_button, interval, conf);
    </script>
</body>
</html>